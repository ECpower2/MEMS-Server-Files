!function(a){"use strict";a.Motion||(a.Motion={VERSION:0}),Motion.Client=function(b){var c=this;void 0===b&&(b={});var d=void 0!==b.host?b.host:a.location.hostname,e=void 0!==b.port?b.port:32074,f=void 0!==b.path?b.path:"/stream/binary",g=["ws://",d.toString(),":",e.toString(),f.toString()].join("");this.callback=void 0,this.json_callback=void 0,this.socket=new WebSocket(g),this.socket.onopen=function(){c.socket.binaryType="arraybuffer"},this.socket.onclose=function(){c.callback&&c.callback()},this.socket.onerror=function(){c.socket&&c.socket.close()},this.socket.onmessage=function(a){a.data instanceof ArrayBuffer?c.callback&&c.callback(a.data):c.json_callback&&c.json_callback(a.data)}},Motion.Client.prototype={constructor:Motion.Client,readData:function(a,b){this.callback=a,this.json_callback=b},close:function(){this.socket.close()}}}(window);